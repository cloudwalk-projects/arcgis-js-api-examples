<html>

<head>
    <title>项目</title>
    <link rel="stylesheet" type="text/css" href="http://map.x3platform.com/dijit/themes/x3platform/x3platform.css">
    <link rel="stylesheet" href="http://map.x3platform.com/esri/css/esri.css">
    <style type="text/css">
        html,
        body,
        #map {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0
        }
        
        #borderContainer {
            width: 100%;
            height: 100%
        }
    </style>
</head>
<script type="text/javascript" src="http://map.x3platform.com/dojo/dojo.js" djConfig="parseOnLoad: true">

</script>
<script type="text/javascript">
    var map;

    require([
        "cw/basemap",
        "esri/map",
        "dojo/parser",
        "dojo/store/Memory",
        "dijit/Tree",
        "dijit/tree/ObjectStoreModel",
        "dijit/layout/BorderContainer",
        "dijit/layout/ContentPane", "dijit/layout/AccordionContainer",
        "dojo/domReady!"
    ], function (
        basemap,
        Map,
        parser,
        Memory,
        Tree,
        ObjectStoreModel
    ) {
            parser.parse();

            // Create test store, adding the getChildren() method required by ObjectStoreModel
            var myStore = new Memory({
                data: [
                    { id: 'world', name: '演示示例', type: 'planet', population: '6 billion' },
                    {
                        id: 'AF', name: 'Africa', type: 'continent', population: '900 million', area: '30,221,532 sq km',
                        timezone: '-1 UTC to +4 UTC', parent: 'world'
                    },
                    { id: 'EG', name: 'Egypt', type: 'country', parent: 'AF' },
                    { id: 'KE', name: 'Kenya', type: 'country', parent: 'AF' },
                    { id: 'Nairobi', name: 'Nairobi', type: 'city', parent: 'KE' },
                    { id: 'Mombasa', name: 'Mombasa', type: 'city', parent: 'KE' },
                    { id: 'SD', name: 'Sudan', type: 'country', parent: 'AF' },
                    { id: 'Khartoum', name: 'Khartoum', type: 'city', parent: 'SD' },
                    { id: 'AS', name: 'Asia', type: 'continent', parent: 'world' },
                    { id: 'CN', name: 'China', type: 'country', parent: 'AS' },
                    { id: 'IN', name: 'India', type: 'country', parent: 'AS' },
                    { id: 'RU', name: 'Russia', type: 'country', parent: 'AS' },
                    { id: 'MN', name: 'Mongolia', type: 'country', parent: 'AS' },
                    { id: 'OC', name: 'Oceania', type: 'continent', population: '21 million', parent: 'world' },
                    { id: 'EU', name: 'Europe', type: 'continent', parent: 'world' },
                    { id: 'DE', name: 'Germany', type: 'country', parent: 'EU' },
                    { id: 'FR', name: 'France', type: 'country', parent: 'EU' },
                    { id: 'ES', name: 'Spain', type: 'country', parent: 'EU' },
                    { id: 'IT', name: 'Italy', type: 'country', parent: 'EU' },
                    { id: 'NA', name: 'North America', type: 'continent', parent: 'world' },
                    { id: 'SA', name: '全城布控', type: 'continent', parent: 'world' }
                ],
                getChildren: function (object) {
                    return this.query({ parent: object.id });
                }
            });

            // Create the model
            var myModel = new ObjectStoreModel({
                store: myStore,
                query: { id: 'world' }
            });

            // Create the Tree.
            var tree = new Tree({
                model: myModel
            }, 'treeView');

            tree.on('click', clickTreeNode);

            /**
             * item /*点中节点对应的数据项
             * node 点中的对象，这里node.item就是的第一个参数
             * evt  事件
             */
            function clickTreeNode(item, node, evt) {
                console.log(item);
            }

            // tree.placeAt('treeView');
            tree.startup();

            map = basemap.create({ divId: 'map' });

            map = new Map("map", {
                basemap: "topo",
                center: [106.48902795844141, 29.623800368070633], //地图加载后，初始位置
                zoom: 14,        //放大级别，值越大放大的比例就越大
                maxZoom: 18,     // 地图最大缩放级别
                minZoom: 1,      // 地图最小缩放级别
                slider: false   // 设置显示地图缩放按钮
            });

        });

</script>

<body class="x3platform">
    <div data-dojo-type="dijit/layout/BorderContainer" design="sidebar" gutters="true" liveSplitters="true" id="borderContainer"
        style="width: 100%; height: 100%; padding:0;">
        <div data-dojo-type="dijit/layout/ContentPane" splitter="true" region="leading" style="width: 200px; padding:4px 4px 2px 4px; border-top:none; border-left:none; border-bottom:none;">
            <div data-dojo-type="dijit/layout/AccordionContainer" splitter="true" region="leading">
                <div data-dojo-type="dijit/layout/ContentPane" title="菜单 1" style="padding:0;">
                    <div id="treeView"></div>
                </div>
                <div data-dojo-type="dijit/layout/ContentPane" title="菜单 2">
                    This is the content in blade 2.
                </div>
                <div data-dojo-type="dijit/layout/ContentPane" title="菜单 3">
                    This is the content in blade 3.
                </div>
            </div>
        </div>
        <!-- 右侧
        <div data-dojo-type="dijit.layout.ContentPane" splitter="true" region="trailing" style="width: 100px;">
            Tailing Region
        </div> -->
        <div data-dojo-type="dijit/layout/ContentPane" splitter="true" region="center" style="padding:4px; border-top:none; border-right:none; border-bottom:none;">
            <div data-dojo-type="dijit/layout/TabContainer" style="width: 100%; height: 100%;">
                <div data-dojo-type="dijit/layout/ContentPane" title="My first tab" data-dojo-props="selected:true">
                    <div id="map"></div>
                </div>
                <div data-dojo-type="dijit/layout/ContentPane" title="My second tab">
                    Lorem ipsum and all around - second...
                </div>
                <div data-dojo-type="dijit/layout/ContentPane" title="My last tab" data-dojo-props="closable:true">
                </div>
            </div>
        </div>
        <!-- 
        <div data-dojo-type="dijit.layout.ContentPane" splitter="true" liveSplitters="true" region="top">
            Top Region
        </div>-->
        <!-- 
        <div data-dojo-type="dijit.layout.ContentPane" splitter="true" region="bottom">
            Bottom Region
        </div>-->
    </div>
</body>

</html>