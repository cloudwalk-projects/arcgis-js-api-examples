<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title></title>
    <link rel="Stylesheet" href="../css/analysis.css" />
    <script type="text/javascript">
        function init() {
            if (window.location.hash) {
                var parentDiv, nodes, i, helpInfo, helpId, helpInfoArr, helpEnvFilter, envContent, hideEnvClass, hideNodes;
                helpInfo = window.location.hash.substring(1);
                    if(helpInfo.indexOf("-")) {
                        helpInfoArr = helpInfo.split("-");
                        helpId = helpInfoArr[0];
                        helpEnvFilter = helpInfoArr[1];
                    }
                    else {
                        helpId = helpInfo;
                    }
                parentDiv = document.getElementById("topics");
                nodes = parentDiv.children;
                    hideEnvClass = (helpEnvFilter === "OnlineOnly"? "PortalOnly": "OnlineOnly");
                    if(document.getElementsByClassName) {
                        hideNodes = document.getElementsByClassName(hideEnvClass);
                    }
                    else {
                        hideNodes = document.querySelectorAll(hideEnvClass);
                    }
                for(i=0; i < nodes.length; i++) {
                    if(nodes[i].id !== helpId) {
                        nodes[i].style.display ="none";
                    }
                    }
                    for(i=0; i < hideNodes.length; i++) {
                        hideNodes[i].style.display ="none";
                    }
                }
            }
    </script>
</head>
<body onload="init()">
<div id="topics">
    <div id="toolDescription" class="largesize">
        <h2>結合フィーチャ</h2><p/>
        <h2><img src="../images/GUID-900E33CD-3789-45B5-8F0C-92D91E64D2A4-web.png" alt="結合フィーチャ"></h2>
        <hr/>
    <p>[結合フィーチャ] タスクでは、2 つのレイヤーが使用されます。[結合フィーチャ] は、空間、時系列、および属性リレーションシップ (または 3 つのリレーションシップの任意の組み合わせ) に基づいて、1 つのフィーチャの属性をもう 1 つのフィーチャに結合します。このツールは、指定の結合条件を満たしているすべての入力フィーチャを特定し、最初の入力レイヤーに 2 番目の入力レイヤーを結合します。必要に応じて、すべてのフィーチャを一致するフィーチャに結合したり、一致するフィーチャを集計したりすることができます。
    </p>
    <p>[結合フィーチャ] は、ポイント、ライン、エリア、およびテーブルに適用できます。時系列的結合では、入力データが時間に対応している必要があり、空間結合では、データにジオメトリが含まれている必要があります。
    </p>
    </div>
    <!--Parameter divs for each param-->
    <div id="targetLayer">
        <div><h2>フィーチャを結合するレイヤーの選択</h2></div>
        <hr/>
        <div>
            <p>フィーチャを結合するレイヤー。
            </p>
            <p>マップからレイヤーを選択できるだけでなく、ドロップダウン リストの下部にある  <b>[レイヤーの参照]</b> を選択し、ビッグ データ ファイル共有データセットまたはフィーチャ レイヤーのコンテンツを参照して選択することもできます。  
            </p>
        </div>
    </div>
    <div id="joinLayer">
        <div><h2>結合するレイヤーの選択</h2></div>
        <hr/>
        <div>
            <p>最初の入力レイヤーに結合するレイヤー。
            </p>
            <p>マップからレイヤーを選択できるだけでなく、ドロップダウン リストの下部にある  <b>[レイヤーの参照]</b> を選択し、ビッグ データ ファイル共有データセットまたはフィーチャ レイヤーのコンテンツを参照して選択することもできます。  
            </p>
        </div>
    </div>
    <div id="joinOperation">
        <div><h2>結合方法の選択</h2></div>
        <hr/>
        <div>
            <p>結合するレイヤーと同じリレーションシップのある結合フィーチャが複数存在する場合に、出力で入力レイヤー間の結合を処理する方法を決定します。次の 2 つの結合方法の中から選択できます。
                <ul>
                    <li> <b>1 対 1 の結合</b> - このオプションを選択すると、一致するフィーチャがすべて結合レイヤーに結合されます。
                    </li>
                    <li> <b>1 対多の結合</b> - このオプションを選択すると、結合するフィーチャごとに、一致するフィーチャがすべて集計されます。
                    </li>
                </ul>
                
            </p>
            <p>たとえば、ファーマーズ マーケットから 5 キロメートル以内にあるスーパーマーケットを検索するとします。この場合、結合するレイヤーには、ファーマーズ マーケットを表す 1 つのフィーチャがあり、結合フィーチャは、年間総売上などの属性のある現地の食料品店を表します。 <b>[結合フィーチャ]</b> ツールを使用すると、5 軒の食料品店が指定の条件を満たしていることがわかります。 <b>[1 対 1 の結合]</b> の結合方法を指定した場合、結果として 5 つのフィーチャが生成され、各行はファーマーズ マーケットとスーパーマーケットを表します。 <b>[1 対多の結合]</b> リレーションシップを指定した場合は、ファーマーズ マーケット、スーパーマーケットの集計情報 (軒数 (5) など)、その他の統計情報 (年間総売上など) を表す 1 つのフィーチャが生成されます。
            </p>
        </div>
    </div>
    <div id="joinOptions">
        <div><h2>使用する結合の種類を選択します。</h2></div>
        <hr/>
        <div>
            <p>1、2、または 3 種類の結合を適用できます。結合の種類は次のとおりです。
                <ul>
                    <li> <b>空間</b> - 指定の空間リレーションシップを使用してフィーチャを結合します。これには、両方のレイヤーにジオメトリがあることが必要です。
                    </li>
                    <li> <b>時系列</b> - 時系列リレーションシップを使用してフィーチャを結合します。これには、両方のレイヤーで時間を有効にする必要があります。
                    </li>
                    <li> <b>属性</b> - 一致するフィールドに基づいてフィーチャを結合します。
                    </li>
                </ul>
                
            </p>
            <p>
            </p>
        </div>
    </div>
    <div id="spatialRelationship">
        <div><h2>空間結合</h2></div>
        <hr/>
        <div>
            <p> フィーチャが互いに結合しているかどうかを判断する空間リレーションシップ。使用可能なリレーションシップは、入力フィーチャとして使用されているジオメトリのタイプ (ポイント、ポリライン、ポリゴン) によって決まります。使用可能なリレーションシップは次のとおりです。
                <ul>
                    <li> <b>Intersects</b> - 互いに交差している場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Equals</b> - 同じジオメトリがある場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Near</b> - 互いに指定の距離内にある場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Contains</b> - 結合するレイヤーが結合フィーチャに含まれている場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Within</b> - 結合するレイヤーが結合フィーチャ内にある場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Touches</b> - 結合するフィーチャに接している境界がある場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Crosses</b> - 交差アウトラインがある場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Overlaps</b> - オーバーラップしている場合に、フィーチャが結合されます。
                    </li>
                </ul>
                
            </p>
        </div>
    </div>
    <div id="nearSpatial">
        <div><h2></h2></div>
        <hr/>
        <div>
            <p>この距離は、空間的な近接リレーションシップに適用される半径を示します。
            </p>
            <p>たとえば、原子力発電所を表すデータセットと住宅を表すデータセットがあるとします。1 キロメートルの近接距離を設定すると、原子力発電所から 1 キロメートル以内にある住宅を特定できます。
            </p> 
        </div>
    </div>
    <div id="temporalRelationship">
        <div><h2>時系列的結合</h2></div>
        <hr/>
        <div>
            <p>フィーチャが互いに結合しているかどうかを判断する時系列リレーションシップ。このオプションを使用できるのは、両方のレイヤーで時間が有効になっている場合に限ります。使用可能なリレーションシップは、入力フィーチャとして使用されている時間のタイプ (即時または間隔) によって決まります。使用可能なリレーションシップは次のとおりです。
                <ul>
                    <li> <b>Meets</b> - 最初のフィーチャが 2 番目のフィーチャに時間的に接している場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Met By</b> - 2 番目のフィーチャが最初のフィーチャに時間的に接している場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Overlaps</b> - 最初のフィーチャが 2 番目のフィーチャに時間的にオーバーラップしている場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Overlapped By</b> - 2 番目のフィーチャが最初のフィーチャに時間的にオーバーラップしている場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>During</b> - 最初のフィーチャが時間的に 2 番目のフィーチャ内にある場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Contains</b> - 最初のフィーチャに 2 番目のフィーチャが含まれている場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Equals</b> - 最初のフィーチャが 2 番目のフィーチャと同じである場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Finishes</b> - 最初のフィーチャが 2 番目のフィーチャを終了している場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Finished By</b> - 2 番目のフィーチャが最初のフィーチャを終了している場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Starts</b> - 最初のフィーチャが 2 番目のフィーチャを開始している場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Started By</b> - 2 番目のフィーチャが最初のフィーチャを開始している場合に、フィーチャの結合条件が満たされます。
                    </li>
                    <li> <b>Intersects</b> - 時間が交差している場合に、フィーチャがマッピングされます。
                    </li>
                    <li> <b>Near</b> - フィーチャが互いに近接している場合に、これらのフィーチャが結合されます (指定の時間で判断)。
                    </li>
                </ul>
                
            </p>
        </div>
    </div>
    <div id="nearTemporal">
        <div><h2></h2></div>
        <hr/>
        <div>
            <p>この時間的距離は、時系列の近接リレーションシップに適用される時間的半径を示します。
            </p>
            <p>たとえば、ボート事故のレイヤーとハリケーンの GPS 進路のレイヤーがあるとします。空間 (1 キロメートル) と時間 (5 時間) の両方で、ハリケーンの進路から指定の距離内で発生したボート事故を確認できます。この結果として、空間的にも時間的にも近接して発生したボート事故がハリケーンに結合されます。
            </p>
        </div>
    </div>
    <div id="attributeRelationship">
        <div><h2>属性結合</h2></div>
        <hr/>
        <div>
            <p>このリレーションシップでは、1 つのレイヤー内のフィールドの値ともう 1 つのレイヤー内のフィールドの値が照合されます。
            </p>
            <p> たとえば、郡全体での居住地住所の区画レイヤー ( <i>[ZIP]</i> フィールドを含む) と、郵便番号別の医療人口統計の表形式データセット (フィールド名は <i>[HEALTHZIP]</i>) があるとします。 <i>[ZIP]</i> フィールドと <i>[HEALTHZIP]</i> フィールドを照合して、医療データセットを居住地データに結合できます。この結果として、居住地とそれに対応する医療データのレイヤーが生成されます。
            </p>
        </div>
    </div>
    <div id="summaryFields">
        <div><h2>統計情報の追加 (オプション)</h2></div>
        <hr/>
        <div>
            <p>[1 対多の結合] オプションを選択した場合は、結合したフィーチャの統計情報を計算できます。
            </p>
        </div>
    </div>
    <div id="joinCondition">
        <div><h2>フィーチャを結合する条件式を作成します (オプション)</h2></div>
        <hr/>
        <div>
            <p>条件を指定のフィールドに適用します。これらの条件を満たしているフィールドを含むフィーチャだけが結合されます。
            </p>
            <p>たとえば、 <i>[health_spending]</i> が <i>[income]</i> の 20 パーセントを上回っているフィーチャの場合にのみ、そのフィーチャのデータセットに結合を適用するとします。これには、最初のデータセット (データセット フィーチャの結合先) にある <i>[health_spending]</i> フィールドと 2 番目のデータセット (結合されるデータセット) にある <i>[income]</i> フィールドを使用して、結合条件「 <code>target.health_spending &gt; (join.income * .20)</code>」を適用します。
            </p>
            <p>演算式を使用して結合条件を適用できます。
            </p>
        </div>
    </div>
    <div id="dataStore">
        <div><h2>データストアの選択</h2></div>
        <hr/>
        <div>
            <p>結果を保存するデータ ストアを設定するためのプレリリース用の一時的なパラメーターです。どちらのデータ ストアも  ArcGIS Data Store の一部です。ビッグ データ ストアを選択した場合に、このデータ ストアがまだインストールされていないと、このツールは正常に実行されません。 </p>
        </div>
    </div>
    <div id="outputName">
        <div><h2>結果レイヤーの名前</h2></div>
        <hr/>
        <div>
            <p>  <b>[マイ コンテンツ]</b> で作成され、マップに追加されるレイヤーの名前です。デフォルトの名前は、ツール名と入力レイヤー名に基づいて設定されます。レイヤーがすでに存在する場合、このツールは正常に実行されません。
            </p>
            <p> <b>[出力の保存場所]</b> ドロップダウン ボックスを使用して、結果を保存する <b>[マイ コンテンツ]</b> 内のフォルダーの名前を指定できます。
            </p>
        </div>
    </div>
</div>
</html>
