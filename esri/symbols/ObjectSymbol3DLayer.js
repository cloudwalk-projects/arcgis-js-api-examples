// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/promiseUtils ../core/Error ./Symbol3DLayer ./support/Symbol3DMaterial ./support/Symbol3DResource ../views/3d/support/aaBoundingBox ../views/3d/layers/graphics/Graphics3DObjectSymbolLayer ../views/3d/layers/graphics/objectResourceUtils ../core/accessorSupport/decorators".split(" "),function(s,t,k,c,e,l,m,n,p,q,r,f,b){return function(g){function a(a){g.call(this);this.resource=this.material=null;
this.type="Object";this.heading=this.anchor=this.depth=this.height=this.width=void 0}k(a,g);a.prototype.computeResourceSize=function(){return this._fetchBoundingBox().then(function(a){return q.size(a)})};a.prototype.computeSize=function(){var a=this;return this.computeResourceSize().then(function(b){if(null==a.width&&null==a.height&&null==a.depth)return b;for(var c=[a.width,a.height,a.depth],h,d=0;3>d;d++){var e=c[d];if(null!=e){h=e/b[d];break}}for(d=0;3>d;d++)null==c[d]&&(c[d]=b[d]*h);return c})};
a.prototype.clone=function(){return new a({heading:this.heading,anchor:this.anchor,depth:this.depth,enabled:this.enabled,height:this.height,material:this.material&&this.material.clone(),resource:this.resource&&this.resource.clone(),width:this.width})};a.prototype._fetchBoundingBox=function(){var a=this;if("string"===typeof this.resource.href){var c=this.resource.href;return c===this._cachedResourceUrl?e.resolve(this._cachedResourceBoundingBox):f.fetch(c).then(function(b){a._cachedResourceBoundingBox=
f.computeBoundingBox(b);a._cachedResourceUrl=c;return a._cachedResourceBoundingBox})}var b=r.PRIMITIVE_BOUNDING_BOX[this.resource.primitive];return b?e.resolve(b):e.reject(new l("symbol:invalid-resource","The symbol does not have a valid resource"))};c([b.property({type:n.default})],a.prototype,"material",void 0);c([b.property({type:p.default,json:{writable:!0}})],a.prototype,"resource",void 0);c([b.property()],a.prototype,"type",void 0);c([b.property({json:{writable:!0}})],a.prototype,"width",void 0);
c([b.property({json:{writable:!0}})],a.prototype,"height",void 0);c([b.property({json:{writable:!0}})],a.prototype,"depth",void 0);c([b.property({json:{writable:!0}})],a.prototype,"anchor",void 0);c([b.property({json:{writable:!0}})],a.prototype,"heading",void 0);return a=c([b.subclass("esri.symbols.ObjectSymbol3DLayer")],a)}(b.declared(m))});