// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ./Accessor ./accessorSupport/decorators".split(" "),function(k,l,g,e,h,c){return function(f){function b(){f.call(this);this._groups=null;this._groups={}}g(b,f);b.prototype.destroy=function(){this.removeAll();this._groups=null};Object.defineProperty(b.prototype,"size",{get:function(){var a=0,b=this._groups,d;for(d in b)a+=b[d].length;return a},enumerable:!0,configurable:!0});b.prototype.add=function(a,b){if(!this._isHandle(a)&&
!Array.isArray(a))return this;var d=this._getOrCreateGroup(b);if(Array.isArray(a))for(var c=0;c<a.length;c++)d.push(a[c]);else d.push(a);this.notifyChange("size");return this};b.prototype.has=function(a){a=this._groups[a];return!!a&&0<a.length};b.prototype.remove=function(a){if(Array.isArray(a))a.forEach(this.remove.bind(this));else{a=this._getGroup(a);if(!a)return this;for(var b=0;b<a.length;b++)a[b].remove();a.length=0;this.notifyChange("size")}return this};b.prototype.removeAll=function(){var a=
this._groups,b;for(b in a)this.remove(b),delete a[b];return this};b.prototype._isHandle=function(a){return a&&!!a.remove};b.prototype._getOrCreateGroup=function(a){return this._getGroup(a)||(this._groups[this._ensureGroupName(a)]=[])};b.prototype._getGroup=function(a){return this._groups[this._ensureGroupName(a)]};b.prototype._ensureGroupName=function(a){return a||"_default_"};e([c.property({readOnly:!0})],b.prototype,"size",null);return b=e([c.subclass()],b)}(c.declared(h))});