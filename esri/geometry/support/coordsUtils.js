// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define([],function(){var u=function(a,c,b){var d=b[0];b=b[1];for(var e=0,l,g,k,f,h=0,m=c.length;h<m;h++)if(e++,e===m&&(e=0),l=c[h][0],g=c[e][0],k=c[h][1],f=c[e][1],(k<b&&f>=b||f<b&&k>=b)&&l+(b-k)/(f-k)*(g-l)<d)a=!a;return a},w=function(a,c,b){for(var d=0,e=0,l=0,g,k,f,h,m,p,t,q,n,r=0,s=0,v=0,u=c.length-1;v<u;v++)g=c[v],k=g[0],f=g[1],h=g[2],m=c[v+1],p=m[0],t=m[1],q=m[2],n=k*t-p*f,r+=n,d+=(k+p)*n,e+=(f+t)*n,b&&(2<g.length&&2<m.length)&&(n=k*q-p*h,l+=(h+q)*n,s+=n);0<r&&(r*=-1);0<s&&(s*=-1);r?(a[0]=d,
a[1]=e,a[2]=0.5*r,b?(a[3]=l,a[4]=0.5*s):a.length=3):a.length=0;return a},x=function(a,c){for(var b=0,d=0,e=0,l=0,g=c?[0,0,0]:[0,0],k=c?[0,0,0]:[0,0],f,h,m,p=0,t=a.length;p<t-1;p++)if(f=a[p],h=a[p+1],f&&h){g[0]=f[0];g[0]=f[1];k[0]=h[0];k[0]=h[1];c&&(2<f.length&&2<h.length)&&(g[2]=f[2],k[2]=h[2]);m=k[0]-g[0];var q=k[1]-g[1],n=0;1<g.length&&1<k.length&&(n=g[2]-k[2]);if(m=Math.sqrt(m*m+q*q+n*n))b+=m,q=f[0]+0.5*(h[0]-f[0]),n=f[1]+0.5*(h[1]-f[1]),f=2<f.length&&2<h.length?[q,n,f[2]+0.5*(h[2]-f[2])]:[q,n],
d+=m*f[0],e+=m*f[1],c&&2<f.length&&(l+=m*f[2])}return 0<b?c?[d/b,e/b,l/b]:[d/b,e/b]:a.length?a[0]:null};return{fromGeom:function(a){if(!a)return null;if(Array.isArray(a))return a;var c=a.hasZ,b=a.hasM;if("point"===a.type)return b&&c?[a.x,a.y,a.z,a.m]:c?[a.x,a.y,a.z]:b?[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.path.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;c=
b=!1;a.map(function(a){a.hasZ&&(c=!0);a.hasM&&(b=!0)});return a.map(function(a){var e=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var l=0.5*(a.zmax-a.zmin),g=0;g<e.length;g++)e[g].push(l);if(b&&a.hasM){a=0.5*(a.mmax-a.mmin);for(g=0;g<e.length;g++)e[g].push(a)}return e})}return null},contains:function(a,c){if(!a)return!1;if(!Array.isArray(a[0][0]))return u(!1,a,c);for(var b=!1,d=0,e=a.length;d<e;d++)b=u(b,a[d],c);return b},centroid:function(a,
c,b){for(var d=[],e,l=0,g=c.length;l<g;l++)e=w([],c[l],b),e.length&&d.push(e);d.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});a.length=b?3:2;if(d.length)c=6*d[0][2],a[0]=d[0][0]/c,a[1]=d[0][1]/c,b&&(a[2]=d[0][3]/(6*d[0][4]));else if(d=c[0]&&c[0].length?x(c[0]):null)a[0]=d[0],a[1]=d[1],b&&2<d.length&&(a[2]=d[2]);return a},isClockwise:function(a){for(var c=0,b=0,d=b+1,e=a.length;b<e;b++,d+=1%e)c+=a[b][0]*a[d][1]-a[d][0]*a[b][1];return 0>=0.5*c}}});