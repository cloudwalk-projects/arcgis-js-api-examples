// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports ../../webgl-engine/materials/RibbonLineMaterial ../../webgl-engine/materials/NativeLineMaterial ../../webgl-engine/lib/GeometryData ../../webgl-engine/lib/Util".split(" "),function(t,g,m,r,n,s){function p(a){var c=a.length;return a[0]===a[c-3]&&a[1]===a[c-2]&&a[2]===a[c-1]}var h=s.VertexAttrConstants;g.createRibbonMaterial=function(a){var c={width:a.width,color:a.color,miterLimit:a.miterLimit,polygonOffset:!0};"miter"===a.join||"bevel"===a.join?c.join=a.join:(c.join="miter",
a.join&&console.warn("unsupported join type for line symbol: "+a.join));return new m(c,a.idHint+"_ribbonlinemat")};g.createNativeMaterial=function(a){return new r(a.width,a.color,a.idHint+"_nativelinemat")};g.createOutlineGeometryFromSegments=function(a,c){for(var e=0;e<c.length;e++)for(var h=a[e],f=0;f<c[e].length;f++){for(var g=c[e][f],d=[],b=g[0];b<g[1];b++)d.push(h[b]);0<d.length&&(void 0).push(d)}};g.isClosed=p;g.createPolylineGeometry=function(a,c,e,g,f,m){var d,b,k;if(e=e&&!p(a)){e=new Float32Array(a.length+
3);for(b=0;b<a.length;b++)e[b]=a[b];b=e.length;e[b-3]=a[0];e[b-2]=a[1];e[b-1]=a[2];d=a.length/3+1;b=new Uint32Array(2*(d-1));k=new Uint32Array(2*(d-1))}else d=a.length/3,b=new Uint32Array(2*(d-1)),k=new Uint32Array(2*(d-1)),e=a;a=new Float32Array(1);a[0]=f;for(var q=f=0,l=0;l<d-1;l++)b[f++]=l,b[f++]=l+1,k[q++]=0,k[q++]=0;d={};f={};d[h.POSITION]=b;d[h.COLOR]=k;d[h.SIZE]=k;f[h.POSITION]={size:3,data:e};f[h.COLOR]={size:4,data:g};f[h.SIZE]={size:1,data:a};c&&(d.mapPos=b,f.mapPos={size:3,data:c});c=[{type:"line",
indices:d,positionKey:h.POSITION}];return m?{faces:c[0],vertexAttr:f,id:n.getNewId().toString()}:new n(c,f)}});