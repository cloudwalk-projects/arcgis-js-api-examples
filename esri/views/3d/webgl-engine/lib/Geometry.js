// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define(["require","exports","./IdGen","./Util","./BoundingInfo"],function(p,q,m,h,n){return function(){function b(l,f,c){this.singleUse=!1;this.originalColors=null;this.id=b.__idGen.gen(f);this.data=l;this.boundingInfos=c||[];h.assert(1<=l.faces.length)}b.prototype.getId=function(){return this.id};b.prototype.getData=function(){return this.data};Object.defineProperty(b.prototype,"numGroups",{get:function(){return this.data.faces.length},enumerable:!0,configurable:!0});b.prototype.getNumGroups=function(){return this.numGroups};
b.prototype.calculateAABB=function(b,f){var c=this.data.faces[b],d="triangle"===c.type?3:1,g=c.indices[c.positionKey];if(0===g.length)for(var g=new Uint32Array(d),a=0;a<d;++a)g[a]=a;for(var a=this.data.vertexAttributes[c.positionKey],c=a.data,k=a.size,e=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],h=null!=f?(f[1]+1)*d:g.length,a=null!=f?f[0]*d:0;a<h;++a)d=k*g[a],e[0]=Math.min(e[0],c[d]),e[1]=Math.min(e[1],c[d+1]),e[2]=Math.min(e[2],c[d+2]),e[3]=Math.max(e[3],c[d]),e[4]=Math.max(e[4],
c[d+1]),e[5]=Math.max(e[5],c[d+2]);return e};b.prototype.calculateBoundingInfo=function(b,f){var c=this.data.faces[b],d="triangle"===c.type?3:1,g=c.indices[c.positionKey];if(0===g.length)for(var g=new Uint32Array(d),a=0;a<d;++a)g[a]=a;a=g.length;h.assert(0===a%d);for(var k=a/d,e=new Uint32Array(k),a=0;a<k;++a)e[a]=a;return new n(e,d,g,this.data.vertexAttributes[c.positionKey],f)};b.prototype.getBoundingInfo=function(b){var f=this.boundingInfos[b];null==f&&(f=this.calculateBoundingInfo(b),this.boundingInfos[b]=
f);return f};b.prototype.invalidateBoundingInfo=function(){this.boundingInfos=[]};b.__idGen=new m;return b}()});