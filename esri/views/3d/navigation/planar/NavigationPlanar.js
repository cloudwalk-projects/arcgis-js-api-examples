// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("../Navigation ./ConstraintsPlanar ./AnimationPlanar ./actions/PanPlanar ./actions/RotatePlanar ./actions/ZoomPlanar ../../webgl-engine/lib/Camera ../../lib/glMatrix".split(" "),function(f,n,p,q,r,s,t,u){var a=u.vec3d,g=a.create(),h=a.create(),k=a.create(),c=a.create();return f.createSubclass([n,p],{declaredClass:"esri.views.3d.navigation.planar.NavigationPlanar",initialize:function(){this.pan=new q({navigation:this});this.zoom=new s({navigation:this});this.rotate=new r({navigation:this})},
getInitialCamera:function(){return new t(a.createFrom(0,0,100),a.createFrom(0,0,0),a.createFrom(0,1,0))},fixTargetUpVector:function(){var l=this.renderCoordsHelper.worldUp,d=this.cameras.target;a.direction(d.center,d.eye,c);var b=a.dot(c,l);0.9999>=Math.abs(b)&&(a.scale(c,b,c),a.subtract(l,c,d.up),a.normalize(d.up))},setPoiAuto:function(c,d){var b=this.picker.pickAlongRay(this.cameras.target.eye,this.cameras.target.center,null,c);if(b.getMinResult().getIntersectionPoint(g)&&b.getMaxResult().getIntersectionPoint(h)){var e=
5/this.renderUnitInMeters,f=b.getMinResult().dist-e,e=b.getMaxResult().dist+e,m=a.dist(this.cameras.target.eye,this.cameras.target.center);if(m<=f||m>=e){if(b.getMinResult().object){b.getMaxResult().dist=void 0;b.intersectObject(b.getMinResult().object);if(void 0===b.getMaxResult().dist){console.error("[NavigationPlanar.setPoiAuto] Did not obtain maximum intersection distance");return}b.getMaxResult().getIntersectionPoint(h);a.lerp(g,h,0.5,k)}else a.set(g,k);this.setCameraFromEyeAndCenter(this.cameras.target.eye,
k,{animate:!1})}}}})});