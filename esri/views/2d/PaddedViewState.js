// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./viewpointUtils ./ViewState ./math/vec2 ./math/mat2d ./math/common ../../core/Accessor".split(" "),function(r,s,k,c,b,l,m,e,g,p,q){var h=function(e){function a(){e.apply(this,arguments);this.bottom=this.right=this.top=this.left=0}k(a,e);return a=c([b.subclass("esri.views.2d.PaddedViewState.Padding")],a)}(b.declared(q));return function(n){function a(){for(var d=
[],a=0;a<arguments.length;a++)d[a-0]=arguments[a];n.apply(this,d);this.content=new m;this.padding=new h;this.size=e.fromValues(0,0)}k(a,n);Object.defineProperty(a.prototype,"clipRect",{get:function(){var d=this.worldScreenWidth;if(!d)return null;var a=p.toRadian(this.rotation),b=Math.abs(Math.cos(a)),f=Math.abs(Math.sin(a)),b=this.width*b+this.height*f;if(d>b)return null;var f=e.clone(this.screenCenter),c=g.fromTranslation(g.create(),f);g.rotate(c,c,a);e.negate(f,f);g.translate(c,c,f);e.transformMat2d(f,
this.paddedScreenCenter,c);return{top:-Math.round(b),left:Math.round(f[0]-0.5*d),right:Math.round(f[0]+0.5*d),bottom:+Math.round(b)}},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"padding",{set:function(d){this._set("padding",d||new h);this._updateContent()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{set:function(d){this._set("size",d);this._updateContent()},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"paddedScreenCenter",{get:function(){var d=
this.content.size,a=this.padding,d=e.scale(e.create(),d,0.5);d[0]+=a.left;d[1]+=a.top;return d},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"viewpoint",{set:function(a){var b=a.clone();this.content.viewpoint=a;l.addPadding(b,a,this._get("size"),this._get("padding"));this._set("viewpoint",l.addPadding(b.clone(),a,this._get("size"),this._get("padding")))},enumerable:!0,configurable:!0});a.prototype._updateContent=function(){var a=e.create(),b=this._get("size"),c=this._get("padding");
if(b&&c){var f=this.content;e.set(a,c.left+c.right,c.top+c.bottom);e.subtract(a,b,a);f.size=a;if(a=f.viewpoint)this.viewpoint=a}};c([b.shared({transform:{dependsOn:["padding"]}})],a.prototype,"properties",void 0);c([b.property({dependsOn:["worldScreenWidth","rotation","paddedScreenCenter","screenCenter"],readOnly:!0})],a.prototype,"clipRect",null);c([b.property()],a.prototype,"content",void 0);c([b.property({type:h})],a.prototype,"padding",null);c([b.property()],a.prototype,"size",null);c([b.property({dependsOn:["size",
"padding"],readOnly:!0})],a.prototype,"paddedScreenCenter",null);c([b.property()],a.prototype,"viewpoint",null);return a=c([b.subclass("esri.views.2d.PaddedViewState")],a)}(b.declared(m))});