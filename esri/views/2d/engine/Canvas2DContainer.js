// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/tsSupport/extendsHelper","../math/common","./Container"],function(p,q,l,m,n){return function(g){function a(){g.apply(this,arguments)}l(a,g);a.prototype.createElement=function(){var c=document.createElement("canvas");c.setAttribute("class","esri-display-object");return c};a.prototype.setElement=function(c){this.element=c};a.prototype.render=function(c){var b=this.element.style;this.visible?(b.display="block",b.opacity=""+this.opacity,this.element.width=c.state.width,
this.element.height=c.state.height,g.prototype.render.call(this,c)):b.display="none"};a.prototype.prepareChildrenRenderParameters=function(c){c.context=this.element.getContext("2d");return c};a.prototype.beforeRenderChildren=function(c,b){var a=b.context,d=b.state;if(d.spatialReference.isWrappable){var e=d.width,f=d.height,k=m.toRadian(d.rotation),h=Math.abs(Math.cos(k)),g=Math.abs(Math.sin(k)),h=Math.round(e*h+f*g),d=Math.round(d.worldScreenWidth);d<h&&(e*=0.5,f*=0.5,a.translate(e,f),a.rotate(k),
a.translate(-e,-f),a.rect(e-0.5*d,f-0.5*h,d,h),a.translate(e,f),a.rotate(-k),a.translate(-e,-f),a.clip())}};a.prototype.afterRenderChildren=function(a,b){};a.prototype.attachChild=function(a,b){return a.attach(b)};a.prototype.detachChild=function(a,b){a.detach(b)};a.prototype.renderChild=function(a,b){b.context.save();a.render(b);b.context.restore()};return a}(n)});