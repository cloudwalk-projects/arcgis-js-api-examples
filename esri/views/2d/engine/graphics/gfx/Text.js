// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../core/tsSupport/extendsHelper dojo/has dojox/gfx/_base ./Shape ./svg".split(" "),function(f,g,h,d,e,k,l){f=d("android");var m=d("chrome")||f&&4<=f?"auto":"optimizeLegibility";d=function(d){function b(a){d.call(this);this.fontStyle=null;this.shape=e.getDefault("Text");this.rawNode=a}h(b,d);b.prototype.getFont=function(){return this.fontStyle};b.prototype.setFont=function(a){this.fontStyle="string"===typeof a?e.splitFontString(a):e.makeParameters(e.defaultFont,
a);this._setFont();return this};b.prototype._setFont=function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)};b.prototype.setShape=function(a){this.shape=e.makeParameters(this.shape,a);this.bbox=null;a=this.rawNode;var c=this.shape;a.setAttribute("x",c.x);a.setAttribute("y",c.y);
a.setAttribute("text-anchor",c.align);a.setAttribute("text-decoration",c.decoration);a.setAttribute("rotate",c.rotated?90:0);a.setAttribute("kerning",c.kerning?"auto":0);a.setAttribute("text-rendering",m);a.firstChild?a.firstChild.nodeValue=c.text:a.appendChild(l._createTextNode(c.text));return this};b.prototype.getTextWidth=function(){var a=this.rawNode,c=a.parentNode,a=a.cloneNode(!0);a.style.visibility="hidden";var b=0,d=a.firstChild.nodeValue;c.appendChild(a);if(""!==d)for(;!b;)b=a.getBBox?parseInt(a.getBBox().width,
10):68;c.removeChild(a);return b};b.prototype.getBoundingBox=function(){var a=null;if(this.getShape().text)try{a=this.rawNode.getBBox()}catch(b){a={x:0,y:0,width:0,height:0}}return a};b.nodeType="text";return b}(k.default);Object.defineProperty(g,"__esModule",{value:!0});g.default=d});