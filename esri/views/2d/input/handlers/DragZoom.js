// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../core/tsSupport/extendsHelper","../../../input/InputHandler","../../../input/handlers/support"],function(n,p,h,k,l){return function(e){function b(m,b,d){var a=this;e.call(this,"esri.views.2d.input.handlers.DragZoom - "+b,!0);this.view=m;this.pointerType=b;this.event={x:0,y:0,width:0,height:0,direction:1};this.registerIncoming("drag",d,function(c){return a._handleDrag(c,d)});this.registerIncoming("key-up",function(c){return a._handleKeyUp(c)})}h(b,e);b.prototype._handleKeyUp=
function(b){JSON.stringify(this.event)===JSON.stringify(this.view.zoomBox._event)&&this.view.zoomBox.interacting&&(this.view.zoomBox.end(this.event),b.stopPropagation())};b.prototype._handleDrag=function(b,e){var d=b.data;if(!(1<d.pointers.length)){var a=d.pointers[0];if(l.eventMatchesPointerType(a.startEvent.native,this.pointerType)){var c=a.currentEvent.x,f=a.currentEvent.y,g=a.startEvent.x,a=a.startEvent.y;c>g?(this.event.x=g,this.event.width=c-g):(this.event.x=c,this.event.width=g-c);f>a?(this.event.y=
a,this.event.height=f-a):(this.event.y=f,this.event.height=a-f);this.event.direction=1<e.length?-1:1;c=this.view.zoomBox;switch(d.action){case "start":c.start(this.event);break;case "update":c.update(this.event);break;case "end":c.end(this.event)}b.stopPropagation()}}};return b}(k.InputHandler)});