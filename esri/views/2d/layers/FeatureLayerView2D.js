// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/declareExtendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/HandleRegistry ./LayerView2D ./support/FeaturesView2D".split(" "),function(l,m,f,d,c,g,h,k){return function(e){function a(){e.apply(this,arguments);this._handles=new g;this.featuresView=new k;this.container=this.featuresView.container}f(a,e);a.prototype.queryGraphics=function(){return this.featuresView.queryGraphics()};a.prototype.queryFeatures=
function(b){return this.featuresView.queryFeatures(b)};a.prototype.queryObjectIds=function(b){return this.featuresView.queryObjectIds(b)};a.prototype.queryFeatureCount=function(b){return this.featuresView.queryFeatureCount(b)};a.prototype.queryExtent=function(b){return this.featuresView.queryExtent(b)};a.prototype.hitTest=function(b,a){return this.featuresView.hitTest(b,a)};a.prototype.update=function(b){};a.prototype.attach=function(){var b=this;this.layer.createGraphicsController({layerView:this}).then(function(a){b.attached&&
(b._set("controller",a),b.featuresView.mapView=b.view,b.featuresView.graphics=a.graphics,b.featuresView.renderer=b.layer.renderer,b._handles.add(b.layer.watch("renderer",function(){b.featuresView.renderer=b.layer.renderer})))})};a.prototype.detach=function(){this.featuresView.graphics=null;this.featuresView.renderer=null;this._handles.removeAll();this.controller&&(this.controller.destroy(),this._set("controller",null))};a.prototype.moveStart=function(){};a.prototype.viewChange=function(){};a.prototype.moveEnd=
function(){};a.prototype.isUpdating=function(){return null==this.controller||!0===this.get("controller.isQueryInProgress")||0===this.get("controller._socketConnector.status")};d([c.property({readOnly:!0})],a.prototype,"controller",void 0);d([c.property({dependsOn:["controller.isQueryInProgress","controller._socketConnector.status"]})],a.prototype,"updating",void 0);return a=d([c.subclass("esri.views.2d.layers.FeatureLayerView2D")],a)}(c.declared(h))});