// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/tsSupport/extendsHelper","../InputHandler","./support"],function(e,f,g,h,k){e=function(e){function d(a,b,c){void 0===a&&(a=250);void 0===b&&(b=10);void 0===c&&(c=35);e.call(this,"recognizers.SingleAndDoubleClick",!1);this.maximumDoubleClickDelay=a;this.maximumDoubleClickDistance=b;this.maximumDoubleTouchDistance=c;this._pointerState=new Map;this._click=this.registerOutgoing("click");this._doubleClick=this.registerOutgoing("double-click");this.registerIncoming("pointer-click",
this._handlePointerClick.bind(this))}g(d,e);d.prototype._pointerId=function(a){a=a.native;return"mouse"===a.pointerType?a.pointerId+":"+a.button:""+a.pointerType};d.prototype._handlePointerClick=function(a){a=a.data;var b=this._pointerId(a),c=this._pointerState.get(b);if(c){clearTimeout(c.doubleClickTimeout);c.doubleClickTimeout=0;var d="touch"===a.native.pointerType?this.maximumDoubleTouchDistance:this.maximumDoubleClickDistance;k.manhattanDistance(c.event,a)>d?(this._doubleClickTimeoutExceeded(b),
this._startClick(a)):(this._doubleClick.emit(a),this._pointerState.delete(b))}else this._startClick(a)};d.prototype._startClick=function(a){var b=this,c=this._pointerId(a);this._pointerState.set(c,{event:a,doubleClickTimeout:setTimeout(function(){return b._doubleClickTimeoutExceeded(c)},this.maximumDoubleClickDelay)})};d.prototype._doubleClickTimeoutExceeded=function(a){var b=this._pointerState.get(a);this._click.emit(b.event);b.doubleClickTimeout=0;this._pointerState.delete(a)};return d}(h.InputHandler);
f.SingleAndDoubleClick=e});