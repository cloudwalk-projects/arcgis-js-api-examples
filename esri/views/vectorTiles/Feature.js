// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define(["require","exports","./Geometry"],function(m,n,k){return function(){function l(a,e){this.values={};for(var g=e.keys,b=e.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var h=a.getMessage(),f=this.values;!h.empty();){var c=h.getUInt32(),d=h.getUInt32();f[g[c]]=b[d]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();break;default:a.skip()}}l.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var e=
this._pbfGeometry,g,b;a?a.reset(this.type):g=[];for(var h=1,f=0,c=0,d=0;!e.empty();)switch(0===f&&(f=e.getUInt32(),h=f&7,f>>=3),f--,h){case 1:c+=e.getSInt32();d+=e.getSInt32();a?a.moveTo(c,d):(b&&g.push(b),b=[],b.push(new k.Point(c,d)));break;case 2:c+=e.getSInt32();d+=e.getSInt32();a?a.lineTo(c,d):b.push(new k.Point(c,d));break;case 7:a?a.close():b&&!b[0].equals(c,d)&&b.push(b[0].clone());break;default:throw Error("Invalid path operation");}a?a=a.result():(b&&g.push(b),a=g);return this._geometry=
a};return l}()});