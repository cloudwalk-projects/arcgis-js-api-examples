// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports dojo/_base/lang ../../core/Accessor ../../core/Collection ../../core/accessorSupport/utils".split(" "),function(x,t,g,u,h,v){function q(a){return a instanceof h?Object.keys(a.items):a instanceof u?v.getProperties(a).keys():a?Object.keys(a):[]}function m(a,b){return a instanceof h?a.items[b]:a[b]}function p(a){return a?a.declaredClass:null}function r(a,b){var c=a.diff;if(c&&g.isFunction(c))return c.call(a,b);var k=q(a),l=q(b);if(!(0===k.length&&0===l.length)){if(!k.length||
!l.length||Array.isArray(a)&&Array.isArray(b)&&a.length!==b.length)return{type:"complete",oldValue:a,newValue:b};var c=l.filter(function(a){return-1===k.indexOf(a)}),d=k.filter(function(a){return-1===l.indexOf(a)}),c=k.filter(function(c){return-1<l.indexOf(c)&&m(a,c)!==m(b,c)}).concat(c,d).sort();if((d=p(a))&&-1<w.indexOf(d)&&c.length)return{type:"complete",oldValue:a,newValue:b};var n,h;for(h in c){var d=c[h],e=m(a,d),f=m(b,d),s=void 0;if(!g.isFunction(e)&&!g.isFunction(f)&&e!==f&&(s="object"===
typeof e&&"object"===typeof f&&p(e)===p(f)?r(e,f):{type:"complete",oldValue:e,newValue:f}))n=n||{type:"partial",diff:{}},n.diff[d]=s}return n}}var w=["esri.Color"];t.diff=function(a,b){return g.isFunction(a)||g.isFunction(b)||!a&&!b?void 0:!a||!b?{type:"complete",oldValue:a,newValue:b}:r(a,b)}});