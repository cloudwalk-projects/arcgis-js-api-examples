// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/tsSupport/declareExtendsHelper ../../../../core/tsSupport/decorateHelper ../../../../core/promiseUtils ../../../../core/Error ./LayerAdapter ./FeatureLayerAdapter ../../../../core/accessorSupport/decorators".split(" "),function(m,n,g,h,c,d,k,l,e){return function(f){function b(a){f.call(this);this._layer=a.layer}g(b,f);b.prototype.getField=function(a){return this._layer.getField(a)};b.prototype.getFieldUsageInfo=function(a){var b=this._layer;return!b.getField(a)?
null:b.getFieldUsageInfo(a)};b.prototype.queryStatistics=function(a){return this._featureLayerAdapter?this._featureLayerAdapter.queryStatistics(a):c.reject(new d("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer does not support statistics query"))};b.prototype.queryFeatureCount=function(a){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(a):c.reject(new d("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer does not support count query"))};
b.prototype.generateRenderer=function(a){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(a):c.reject(new d("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer does not support generateRenderer operation"))};b.prototype.getAllFeatures=function(a){return this._featureLayerAdapter?this._featureLayerAdapter.getAllFeatures(a):c.reject(new d("scene-layer-adapter:not-supported","SceneLayer without companion FeatureLayer is not supported"))};b.prototype.load=
function(){var a=this,b=this._layer,c=b.load().then(function(){var c=b.companionFeatureLayer;if(c)return a._featureLayerAdapter=new l({layer:c}),a._featureLayerAdapter.load().then(function(){a.geometryType=a._featureLayerAdapter.geometryType;a.objectIdField=a._featureLayerAdapter.objectIdField;a.supportsSQLExpression=a._featureLayerAdapter.supportsSQLExpression;a.hasLocalSource=a._featureLayerAdapter.hasLocalSource});a.geometryType=b.geometryType;a.objectIdField=b.objectIdField;a.supportsSQLExpression=
!1;a.hasLocalSource=!1});this.addResolvingPromise(c);return this};return b=h([e.subclass()],b)}(e.declared(k))});