// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/4.2/esri/copyright.txt for details.
//>>built
define(["require","exports","dojo/_base/lang","../../../Color","./support/utils"],function(h,k,w,f,g){function u(a,b){var c;if(a)switch(b){case "point":case "multipoint":c={color:new f(a.color),noDataColor:new f(a.noDataColor),outline:{color:new f(a.outline.color),width:a.outline.width},size:a.size,noDataSize:a.noDataSize,minSize:a.minSize,maxSize:a.maxSize,opacity:a.opacity||1};break;case "polyline":c={color:new f(a.color),noDataColor:new f(a.noDataColor),width:a.width,noDataWidth:a.noDataWidth,
minWidth:a.minWidth,maxWidth:a.maxWidth,opacity:a.opacity||1};break;case "polygon":c=a.marker;var d=a.background;c={marker:{color:new f(c.color),noDataColor:new f(c.noDataColor),outline:{color:new f(c.outline.color),width:c.outline.width},size:c.size,noDataSize:c.noDataSize,minSize:c.minSize,maxSize:c.maxSize},background:{color:new f(d.color),outline:{color:new f(d.outline.color),width:d.outline.width}},opacity:a.opacity||1}}return c}function q(a){var b;a&&(b=w.mixin({},a),b.color&&(b.color=new f(b.color)),
b.noDataColor&&(b.noDataColor=new f(b.noDataColor)),b.outline&&(b.outline={color:b.outline.color&&new f(b.outline.color),width:b.outline.width}));return b}function v(a,b){a.size&&(a.size=g.toWorldScale(a.size,b));a.noDataSize&&(a.noDataSize=g.toWorldScale(a.noDataSize,b));a.minSize&&(a.minSize=g.toWorldScale(a.minSize,b));a.maxSize&&(a.maxSize=g.toWorldScale(a.maxSize,b));return a}function x(a,b){var c=r["default"];return(c=c&&c["multipoint"===b?"point":b])&&c[a]}h=[128,128,128,1];k=[128,128,128,
1];var l={primary:{color:[227,139,79,1],noDataColor:h,outline:{color:[255,255,255,1],width:"1px"},noDataSize:"4px",size:"12px",minSize:"8px",maxSize:"50px",opacity:0.8},secondary:[{color:[128,128,128,1],noDataColor:h,outline:{color:[255,255,255,1],width:"1px"},noDataSize:"4px",size:"12px",minSize:"8px",maxSize:"50px",opacity:0.8},{color:[255,255,255,1],noDataColor:h,outline:{color:[128,128,128,1],width:"1px"},noDataSize:"4px",size:"12px",minSize:"8px",maxSize:"50px",opacity:0.8}]},m={primary:{color:[227,
139,79,1],noDataColor:k,outline:{color:[51,51,51,1],width:"1px"},noDataSize:"4px",size:"12px",minSize:"8px",maxSize:"50px",opacity:0.8},secondary:[{color:[178,178,178,1],noDataColor:k,outline:{color:[51,51,51,1],width:"1px"},noDataSize:"4px",size:"12px",minSize:"8px",maxSize:"50px",opacity:0.8},{color:[26,26,26,1],noDataColor:k,outline:{color:[128,128,128,1],width:"1px"},noDataSize:"4px",size:"12px",minSize:"8px",maxSize:"50px",opacity:0.8}]},n={r:0,g:0,b:0,a:0},s={color:n,outline:{color:{r:166,g:166,
b:166,a:1},width:"1px"}},n={color:n,outline:{color:{r:166,g:166,b:166,a:1},width:"1px"}},p={"default":{name:"default",label:"Default",description:"Default theme for visualizing features by varying their size to show data.",basemapGroups:{light:"streets gray topo terrain national-geographic oceans osm".split(" "),dark:["satellite","hybrid","dark-gray"]},pointSchemes:{light:l,dark:m},lineSchemes:{light:{primary:{color:[226,119,40,1],noDataColor:h,noDataWidth:"1px",width:"1px",minWidth:"1px",maxWidth:"18px"},
secondary:[{color:[77,77,77,1],noDataColor:h,noDataWidth:"1px",width:"1px",minWidth:"1px",maxWidth:"18px"},{color:[153,153,153,1],noDataColor:h,noDataWidth:"1px",width:"1px",minWidth:"1px",maxWidth:"18px"}]},dark:{primary:{color:[226,119,40,1],noDataColor:k,noDataWidth:"1px",width:"1px",minWidth:"1px",maxWidth:"18px"},secondary:[{color:[255,255,255,1],noDataColor:k,noDataWidth:"1px",width:"1px",minWidth:"1px",maxWidth:"18px"},{color:[153,153,153,1],noDataColor:k,noDataWidth:"1px",width:"1px",minWidth:"1px",
maxWidth:"18px"}]}},polygonSchemes:{light:{primary:{marker:l.primary,background:n,opacity:l.primary.opacity},secondary:[{marker:l.secondary[0],background:n,opacity:l.secondary[0].opacity},{marker:l.secondary[1],background:n,opacity:l.secondary[1].opacity}]},dark:{primary:{marker:m.primary,background:s,opacity:m.primary.opacity},secondary:[{marker:m.secondary[0],background:s,opacity:m.secondary[0].opacity},{marker:m.secondary[1],background:s,opacity:m.secondary[1].opacity}]}}}},r={};(function(){for(var a in p){var b=
p[a],c=b.basemapGroups,d=r[a]={basemaps:[].concat(c.light).concat(c.dark),point:{},polyline:{},polygon:{}},e;for(e in c)for(var f=c[e],g=0;g<f.length;g++){var h=f[g];b.pointSchemes&&(d.point[h]=b.pointSchemes[e]);b.lineSchemes&&(d.polyline[h]=b.lineSchemes[e]);b.polygonSchemes&&(d.polygon[h]=b.polygonSchemes[e])}}})();var t={getThemes:function(a){var b=[];a=g.normalizedBasemapId(a);for(var c in p){var d=p[c],e=r[c];a&&-1===e.basemaps.indexOf(a)||b.push({name:d.name,label:d.label,description:d.description,
basemaps:e.basemaps.slice(0)})}return b},getSchemes:function(a){var b=a.geometryType,c=a.worldScale,d=a.view;a=x(g.normalizedBasemapId(a.basemap),b);var e;a&&(e=u(a.primary,b),e={primaryScheme:c?t.toWorldScale({scheme:e,view:d}):e,secondarySchemes:a.secondary.map(function(a){a=u(a,b);return c?t.toWorldScale({scheme:a,view:d}):a})});return e},cloneScheme:function(a){var b;a&&(b=q(a),b.marker&&(b.marker=q(b.marker)),b.background&&(b.background=q(b.background)));return b},toWorldScale:function(a){if(a.scheme&&
a.view){var b=a.scheme,c=a.scheme,d=a.scheme,e=null;b.hasOwnProperty("size")?e=v(b,a.view):c.hasOwnProperty("width")?(a=a.view,c.width&&(c.width=g.toWorldScale(c.width,a)),c.noDataWidth&&(c.noDataWidth=g.toWorldScale(c.noDataWidth,a)),c.minWidth&&(c.minWidth=g.toWorldScale(c.minWidth,a)),c.maxWidth&&(c.maxWidth=g.toWorldScale(c.maxWidth,a)),e=c):d.hasOwnProperty("marker")&&(d.marker&&(d.marker=v(d.marker,a.view)),e=d);return e}}};return t});